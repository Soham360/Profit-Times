---
title: "Wordle"
format: 
  html:
    toc: false
    navigation: false
---

<div id="gameContainer" style="display:flex; flex-direction:column; align-items:center; gap:20px; margin-top:50px;">
  <div id="board"></div>
  <input type="text" id="guessInput" maxlength="5" placeholder="Type your guess here" style="font-size:32px; text-align:center; width:350px; padding:10px; height:75px;">
  <button onclick="submitGuess()" style="font-size:24px; padding:20px; height:75px;">Submit Guess</button>
</div>

<script>
// Configuration
const targetWord = "APPLE";
let currentRow = 0;
let maxGuesses = 6;
let secondGuessPaywall = false;

// Colors
const colors = { correct: "#6aaa64", present: "#c9b458", absent: "#787c7e" };

// Create board
const board = document.getElementById("board");
board.style.display = "flex";
board.style.flexDirection = "column";
board.style.gap = "10px";

for (let r = 0; r < maxGuesses; r++) {
    const row = document.createElement("div");
    row.style.display = "flex";
    row.style.gap = "10px";
    row.style.justifyContent = "center";
    
    for (let c = 0; c < 5; c++) {
        const cell = document.createElement("div");
        Object.assign(cell.style, {
            width: "60px",
            height: "60px",
            border: "3px solid #999",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            fontSize: "32px",
            fontWeight: "bold",
            textTransform: "uppercase"
        });
        row.appendChild(cell);
    }
    board.appendChild(row);
}

// Submit guess
function submitGuess() {
    const input = document.getElementById("guessInput");
    const guess = input.value.toUpperCase();
    if (guess.length !== 5) {
        alert("Please enter a 5-letter word.");
        return;
    }
    
    const rowDiv = board.children[currentRow];
    for (let i = 0; i < 5; i++) {
        const letter = guess[i];
        const cell = rowDiv.children[i];
        
        if (letter === targetWord[i]) cell.style.backgroundColor = colors.correct;
        else if (targetWord.includes(letter)) cell.style.backgroundColor = colors.present;
        else cell.style.backgroundColor = colors.absent;

        cell.style.color = "#fff";
        cell.textContent = letter;
    }
    
    currentRow++;
    input.value = "";
    
    if (currentRow >= maxGuesses) input.disabled = true;
}

// Paywall trigger while typing second guess
document.getElementById("guessInput").addEventListener("input", function(e) {
    if (currentRow === 1 && !secondGuessPaywall && e.target.value.length === 1) {
        secondGuessPaywall = true;
        alert("Pay $9.99 to unlock more guesses!");
        e.target.disabled = true;
    }
});
</script>
